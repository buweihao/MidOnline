<UserControl x:Class="BasicRegionNavigation.Controls.LineWithImage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:BasicRegionNavigation.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <local:BrushToConnectionIconConverter x:Key="BrushToConnIcon" />
    </UserControl.Resources>
    <Canvas>
        <!-- 线 -->
        <Line X1="{Binding X1, RelativeSource={RelativeSource AncestorType=UserControl}}"
              Y1="{Binding Y1, RelativeSource={RelativeSource AncestorType=UserControl}}"
              X2="{Binding X2, RelativeSource={RelativeSource AncestorType=UserControl}}"
              Y2="{Binding Y2, RelativeSource={RelativeSource AncestorType=UserControl}}"
              Stroke="{Binding Stroke, RelativeSource={RelativeSource AncestorType=UserControl}}"
              StrokeThickness="4" />

        <!-- 图标，定位到线中点 -->
        <Image Source="{Binding Stroke, RelativeSource={RelativeSource AncestorType=UserControl},
                                Converter={StaticResource BrushToConnIcon}}"
               Width="60"
               Height="50"
               Canvas.Left="{Binding ImageLeft, RelativeSource={RelativeSource AncestorType=UserControl}}"
               Canvas.Top="{Binding ImageTop, RelativeSource={RelativeSource AncestorType=UserControl}}" >
        </Image>
    </Canvas>
</UserControl>
